(this.webpackJsonpposter=this.webpackJsonpposter||[]).push([[0],{286:function(e,t,a){e.exports=a(497)},473:function(e,t,a){},474:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),l=a(46),c=a(20),s=a(266),u=a(33),m=a(74),p=a(273),d=a(537),f=a(39),b=Object(l.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return e;case"SIGNUP_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{authError:null});case"LOGIN_ERROR":return Object(f.a)(Object(f.a)({},e),{},{authError:"Login failed"});case"SIGNOUT_ERROR":case"SIGNUP_ERROR":default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_ADDED":return console.log(t.post),e;case"CREATE_POST_ERROR":return console.log(t.err),e;default:return e}},firebase:u.firebaseReducer,firestore:m.firestoreReducer}),h=(a(473),a(32)),g=a(13),E=(a(474),a(528)),O=a(534),x=a(535),v=a(500),j=a(532),N=a(271),S=a.n(N),y=a(19),C=a(530),R=a(267),w=a.n(R),I=a(542),k=a(274),P=(a(475),function(e){return function(t,a,n){var r=(0,n.getFirestore)(),i=a().firebase.profile,o=a().firebase.auth.uid;r.add("posts",Object(f.a)(Object(f.a)({},e),{},{auhorFirstName:i.firstName,authorLastName:i.lastName,authorId:o,createdAt:new Date})).then((function(){t({type:"POST_ADDED",post:e})})).catch((function(e){t({type:"CREATE_POST_ERROR",err:e})}))}}),F=(Object(E.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},brandLogo:{textDecoration:"none",color:"white"}}})),Object(c.b)(null,{signOut:function(){return function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})})).catch((function(t){e({type:"SIGNOUT_ERROR",err:t})}))}}})((function(e){var t=r.a.useState(null),a=Object(y.a)(t,2),n=a[0],i=a[1],o=Boolean(n),l=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(h.c,{to:"/create"},r.a.createElement(C.a,{color:"inherit"},"Create Post")),r.a.createElement(j.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},color:"inherit"},r.a.createElement(w.a,null)),r.a.createElement(k.a,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:o,onClose:l},r.a.createElement(I.a,{onClick:l},"Profile"),r.a.createElement(I.a,{onClick:function(){e.signOut(),l()}},"Logout")))}))),B=a(540),U=a(499),A=a(270),T=a.n(A),D=a(268),W=a.n(D),G=a(7),_=a.n(G),L=(a(495),a(496),a(264),{apiKey:"AIzaSyDK6U-xvByqMqZ7BdJgR2ZOv7rkbrff1u8",authDomain:"poster-b9efa.firebaseapp.com",databaseURL:"https://poster-b9efa.firebaseio.com",projectId:"poster-b9efa",storageBucket:"poster-b9efa.appspot.com",messagingSenderId:"1035863691664",appId:"1:1035863691664:web:84f3fb632f24f6321aa315",measurementId:"G-TLNMXG852F"});_.a.initializeApp(L),_.a.firestore();var z=_.a,H=a(538),J=a(533),M=Object(E.a)((function(e){return{inBtn:{marginTop:"20px",marginLeft:"20px"},right:{textAlign:"right"},pointer:{cursor:"pointer"}}})),V=Object(c.b)(null,{signIn:function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){return t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",err:e})}))}}})((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),c=Object(y.a)(l,2),s=c[0],u=c[1],m=M();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.signIn({email:i,password:s})}(t)}},r.a.createElement(v.a,{component:"h6",variant:"h6"},"Sign in with Email"),r.a.createElement(v.a,null,"or"," ",r.a.createElement(J.a,{className:m.pointer,onClick:e.signUp},"sign up"," ")),r.a.createElement(H.a,{id:"standard-basic",label:"Enter Email",fullWidth:!0,type:"email",onChange:function(e){return o(e.target.value)},value:i}),r.a.createElement(H.a,{id:"standard-basic",label:"Enter Password",fullWidth:!0,onChange:function(e){return u(e.target.value)},value:s}),r.a.createElement("div",{className:m.right},r.a.createElement(C.a,{className:m.inBtn,type:"submit",disableElevation:!0,onClick:e.handleBack},"Cancel"),r.a.createElement(C.a,{className:m.inBtn,type:"submit",variant:"contained",color:"primary",disableElevation:!0},"Sign in"))))})),q=Object(E.a)((function(e){return{inBtn:{marginTop:"20px",marginLeft:"20px"},right:{textAlign:"right"},pointer:{cursor:"pointer"}}})),K=Object(c.b)(null,{signUp:function(e){return function(t,a,n){var r=n.getFirebase,i=n.getFirestore,o=r(),l=i();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return l.set({collection:"users",doc:t.user.uid},{firstName:e.firstName,lastName:e.lastName,initials:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",err:e})}))}}})((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),c=Object(y.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(""),p=Object(y.a)(m,2),d=p[0],f=p[1],b=Object(n.useState)(""),h=Object(y.a)(b,2),g=h[0],E=h[1],O=q();return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),e.signUp({email:i,password:s,firstName:d,lastName:g})}(t)},autoComplete:"off"},r.a.createElement(v.a,{component:"h6",variant:"h6"},"Sign Up with Email"),r.a.createElement(H.a,{id:"standard-basic",label:"Enter Email",fullWidth:!0,type:"email",onChange:function(e){return o(e.target.value)},value:i}),r.a.createElement(H.a,{id:"standard-basic",label:"Enter Password",type:"password",fullWidth:!0,onChange:function(e){return u(e.target.value)},value:s}),r.a.createElement(H.a,{id:"standard-basic",label:"Enter First Name",fullWidth:!0,onChange:function(e){return f(e.target.value)},value:d}),r.a.createElement(H.a,{id:"standard-basic",label:"Enter Last Name",fullWidth:!0,onChange:function(e){return E(e.target.value)},value:g}),r.a.createElement("div",{className:O.right},r.a.createElement(C.a,{className:O.inBtn,type:"submit",disableElevation:!0,onClick:e.handleBack},"Cancel"),r.a.createElement(C.a,{className:O.inBtn,type:"submit",variant:"contained",color:"primary",disableElevation:!0},"Sign Up"))))})),Z=Object(E.a)((function(e){return{modalPaper:{maxWidth:"500px",width:"100%",maxHeight:"500px",height:"100%",margin:"20px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0 30px","&:focus":{outline:"none"}},emailButton:{textTransform:"none",border:"none",width:"100%",maxWidth:"200px",padding:"5px 16px",borderRadius:"2px",textAlign:"left",backgroundColor:"#db4437",color:"#fff",boxShadow:"0 2px 2px 0 rgba(0,0,0,.14), 0 3px 1px -2px rgba(0,0,0,.2), 0 1px 5px 0 rgba(0,0,0,.12);","&:hover":{backgroundColor:"#db4437"}},marginBtn:{marginLeft:"14px"},label:{justifyContent:"flex-start"}}})),X=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(!1),c=Object(y.a)(l,2),s=c[0],u=c[1],m=Object(n.useState)(!1),p=Object(y.a)(m,2),d=p[0],f=p[1],b=Z(),h=function(){u(!1),f(!1)},g={signInFlow:"popup",signInOptions:[z.auth.GoogleAuthProvider.PROVIDER_ID,z.auth.GithubAuthProvider.PROVIDER_ID,z.auth.FacebookAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}};console.log();var E=r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{component:"h6",variant:"h6"},"Sign In"),r.a.createElement(W.a,{uiConfig:g,firebaseAuth:z.auth()}),r.a.createElement(C.a,{variant:"outlined",classes:{label:b.label},className:b.emailButton,onClick:function(){return u(!s)}},r.a.createElement(T.a,{fontSize:"small"}),r.a.createElement("span",{className:b.marginBtn},"Sign in with email")));return r.a.createElement("div",null,r.a.createElement(C.a,{color:"inherit",onClick:function(){o(!0)}},"Signin"),r.a.createElement(B.a,{open:i,onClose:function(){u(!1),f(!1),o(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(U.a,{className:b.modalPaper},s?d?r.a.createElement(K,{handleBack:h}):r.a.createElement(V,{signUp:f,handleBack:h}):E)))},Q=Object(E.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},brandLogo:{textDecoration:"none",color:"white"}}})),Y=Object(c.b)((function(e){return{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=Q();return r.a.createElement("div",{className:a.root},r.a.createElement(O.a,{position:"fixed"},Object(u.isLoaded)(t)?r.a.createElement(x.a,null,r.a.createElement(j.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(S.a,null)),r.a.createElement(v.a,{variant:"h6",className:a.title},r.a.createElement(h.b,{to:"/",className:a.brandLogo},"Poster")),t.uid?r.a.createElement(F,null):r.a.createElement(X,null)):null))})),$=a(536),ee=a(539),te=function(){return r.a.createElement("div",null,"Notification")},ae=a(272),ne=a.n(ae),re=Object(E.a)({paper:{padding:"20px",display:"relative"},image:{width:"100%",marginBottom:"20px"},meta:{fontSize:"14px"},summaryContent:{marginTop:"10px"},date:{marginLeft:"15px",cursor:"default"}}),ie=function(e){var t=e.post,a=re();return r.a.createElement("div",null,r.a.createElement(U.a,{elevation:0},r.a.createElement(ee.a,{padding:"20px"},r.a.createElement(v.a,{className:a.meta,component:"p"},t.authorFirstName," ",t.authorLastName," ",r.a.createElement("span",{className:a.date},ne()(t.createdAt.toDate()).calendar())),r.a.createElement(h.b,{to:"post/"+t.id,style:{textDecoration:"none"}},r.a.createElement(U.a,{elevation:0},r.a.createElement(v.a,{component:"h5",variant:"h5"},t.title),r.a.createElement(v.a,{className:a.summaryContent,component:"p"},t.content)))),r.a.createElement(h.b,{to:"post/"+t.id},r.a.createElement("img",{className:a.image,src:"https://leonardo.osnova.io/921ef06d-10ea-839f-d01f-a46c7ff1f3e6/-/resize/1300/",alt:"dsd"}))))},oe=Object(c.b)((function(e){return{posts:e.firestore.ordered.posts}}))((function(e){return Object(u.useFirestoreConnect)([{collection:"posts",orderBy:["createdAt","desc"]}]),console.log(""),r.a.createElement(r.a.Fragment,null,e.posts?e.posts.map((function(e){return r.a.createElement(ie,{post:e,key:e.id})})):null)})),le=function(){return r.a.createElement("div",null,r.a.createElement($.a,{maxWidth:"md"},r.a.createElement(ee.a,{display:"grid",gridTemplateColumns:"1",gridGap:"15px",paddingTop:"80px",textAlign:"left"},r.a.createElement(U.a,{elevation:0},r.a.createElement(te,null)),r.a.createElement(oe,null))))},ce=a(30),se=Object(E.a)((function(e){var t;return{paper:(t={height:"100%",padding:"20px",display:"flex",justifyContent:"center",textAlign:"left"},Object(ce.a)(t,e.breakpoints.down("md"),{borderRadius:0}),Object(ce.a)(t,"paddingTop","80px"),t),container:Object(ce.a)({minHeight:"100%"},e.breakpoints.down("md"),{padding:0}),content:Object(ce.a)({maxWidth:"850px"},e.breakpoints.down("md"),{maxWidth:"700px"}),image:{display:"inline-block",width:"100%",marginBottom:"20px"}}})),ue=Object(c.b)((function(e,t){return e.firestore.ordered.posts?{post:e.firestore.ordered.posts.find((function(e){return e.id==t.match.params.id}))}:{post:null}}))((function(e){var t=e.post;Object(u.useFirestoreConnect)([{collection:"posts"}]);var a=se();return r.a.createElement($.a,{maxWidth:"lg",className:a.container},t?r.a.createElement(U.a,{elevation:0,className:a.paper},r.a.createElement("div",{className:a.content},r.a.createElement(v.a,{component:"p"},"".concat(t.authorFirstName," ").concat(t.authorLastName)," 1hr. ago"),r.a.createElement(v.a,{component:"h4",variant:"h4"},t.title),r.a.createElement("img",{src:"https://leonardo.osnova.io/f7811be6-a947-fc4b-adf9-e65c6669de67/-/resize/2100/",alt:"",className:a.image}),r.a.createElement(v.a,{component:"p"},t.content))):null)})),me=Object(E.a)((function(e){var t;return{paper:(t={padding:"20px",display:"flex",justifyContent:"center",textAlign:"left",maxWidth:"1020px",width:"100%",minHeight:"100%"},Object(ce.a)(t,e.breakpoints.down("md"),{borderRadius:0}),Object(ce.a)(t,"paddingTop","64px"),t),container:Object(ce.a)({display:"flex",minHeight:"100%",justifyContent:"center"},e.breakpoints.down("md"),{padding:0}),createPostNav:{position:"fixed",height:"64px",maxWidth:"1020px",width:"100%",padding:"0 20px",display:"flex",justifyContent:"center",alignItems:"center",borderBottom:"2px solid #f4f4f4",zIndex:"19",backgroundColor:"#fff"},content:Object(ce.a)({maxWidth:"750px",width:"100%",textAlign:"right"},e.breakpoints.down("md"),{maxWidth:"700px"}),createForm:{marginTop:"64px",paddingTop:"10px",width:"100%",display:"flex",justifyContent:"center"},image:{display:"inline-block",width:"100%",marginBottom:"20px"}}})),pe=Object(c.b)(null,{createPost:P})((function(e){var t=Object(n.useState)(""),a=Object(y.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)(""),c=Object(y.a)(l,2),s=c[0],u=c[1],m=me(),p=function(){e.createPost({title:i,content:s}),e.history.push("/")};return r.a.createElement($.a,{maxWidth:"lg",className:m.container},r.a.createElement(U.a,{elevation:0,className:m.paper},r.a.createElement("nav",{className:m.createPostNav},r.a.createElement("div",{className:m.content},r.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary",disableElevation:!0,onClick:p},"Create"))),r.a.createElement("form",{className:m.createForm,onSubmit:function(e){return function(e){e.preventDefault(),p()}(e)},autoComplete:"off"},r.a.createElement("div",{className:m.content},r.a.createElement(H.a,{placeholder:"Title",value:i,fullWidth:!0,onChange:function(e){return o(e.target.value)},InputProps:{disableUnderline:!0,style:{fontSize:20,fontWeight:700}}}),r.a.createElement(H.a,{multiline:!0,fullWidth:!0,placeholder:"Take a note",value:s,onChange:function(e){return u(e.target.value)},InputProps:{disableUnderline:!0,style:{fontSize:18}}})))))})),de=function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(Y,null),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/",exact:!0,component:le}),r.a.createElement(g.a,{path:"/post/:id",component:ue}),r.a.createElement(g.a,{path:"/create",component:pe}))))},fe=Object(p.a)({typography:{h5:{fontWeight:700}}}),be=Object(l.e)(b,Object(l.d)(Object(l.a)(s.a.withExtraArgument({getFirestore:m.getFirestore,getFirebase:u.getFirebase})),Object(m.reduxFirestore)(z))),he={firebase:z,config:{useFirestoreForProfile:!0,userProfile:"users"},firebaseConfig:L,dispatch:be.dispatch,createFirestoreInstance:m.createFirestoreInstance};o.a.render(r.a.createElement(d.a,{theme:fe},r.a.createElement(c.a,{store:be},r.a.createElement(u.ReactReduxFirebaseProvider,he,r.a.createElement(de,null)))),document.getElementById("root"))}},[[286,1,2]]]);
//# sourceMappingURL=main.1452a4c2.chunk.js.map